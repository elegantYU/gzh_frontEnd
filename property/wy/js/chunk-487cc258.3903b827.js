(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-487cc258"],{"55d9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa_wrapper"},[a("div",{staticClass:"pa_container"},[a("h6",[e._v(e._s(e.place))]),a("div",{staticClass:"pa_form"},[a("div",{staticClass:"pa_input"},[a("label",[e._v("饲养人")]),a("div",{staticClass:"pa_input_box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.v_form.raiser,expression:"v_form.raiser"}],attrs:{type:"text",readonly:""},domProps:{value:e.v_form.raiser},on:{input:function(t){t.target.composing||e.$set(e.v_form,"raiser",t.target.value)}}})])]),a("div",{staticClass:"pa_input"},[a("label",[e._v("家庭住址")]),a("div",{staticClass:"pa_input_box"},[a("mu-select",{attrs:{"full-width":"",solo:!0,placeholder:"请选择房屋"},model:{value:e.v_form.address,callback:function(t){e.$set(e.v_form,"address",t)},expression:"v_form.address"}},e._l(e.v_address,function(e,t){return a("mu-option",{key:t,attrs:{label:e,value:e}})}),1)],1),a("i")]),a("div",{staticClass:"pa_input"},[a("label",[e._v("宠物品种")]),a("div",{staticClass:"pa_input_box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.v_form.petBreed,expression:"v_form.petBreed"}],attrs:{type:"text",placeholder:"请输入宠物品种"},domProps:{value:e.v_form.petBreed},on:{input:function(t){t.target.composing||e.$set(e.v_form,"petBreed",t.target.value)}}})])]),a("div",{staticClass:"pa_input"},[a("label",[e._v("昵称")]),a("div",{staticClass:"pa_input_box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.v_form.petName,expression:"v_form.petName"}],attrs:{type:"text",placeholder:"请输入宠物昵称"},domProps:{value:e.v_form.petName},on:{input:function(t){t.target.composing||e.$set(e.v_form,"petName",t.target.value)}}})])]),a("div",{staticClass:"pa_input"},[a("label",[e._v("体重")]),a("div",{staticClass:"pa_input_box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.v_form.weight,expression:"v_form.weight"}],attrs:{type:"text",placeholder:"请输入宠物体重"},domProps:{value:e.v_form.weight},on:{change:e.changeWeight,input:function(t){t.target.composing||e.$set(e.v_form,"weight",t.target.value)}}})])]),a("div",{staticClass:"pa_input"},[a("label",[e._v("性别")]),a("div",{staticClass:"pa_input_box pa_input_radio"},[a("span",{on:{click:function(t){return e.f_checkGender("1")}}},[a("i",{class:"1"===e.v_form.gender?"pa_checked":""}),e._v("雄")]),a("span",{on:{click:function(t){return e.f_checkGender("0")}}},[a("i",{class:"0"===e.v_form.gender?"pa_checked":""}),e._v("雌")])])]),a("div",{staticClass:"pa_input"},[a("label",[e._v("是否绝育")]),a("div",{staticClass:"pa_input_box pa_input_radio"},[a("span",{on:{click:function(t){return e.f_checkSterilization("1")}}},[a("i",{class:"1"===e.v_form.sterilization?"pa_checked":""}),e._v("是")]),a("span",{on:{click:function(t){return e.f_checkSterilization("0")}}},[a("i",{class:"0"===e.v_form.sterilization?"pa_checked":""}),e._v("否")])])]),a("div",{staticClass:"pa_input"},[a("label",[e._v("健康免疫证编号")]),a("div",{staticClass:"pa_input_box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.v_form.exemptionNum,expression:"v_form.exemptionNum"}],attrs:{type:"text",placeholder:"请输入健康免疫证编号"},domProps:{value:e.v_form.exemptionNum},on:{input:function(t){t.target.composing||e.$set(e.v_form,"exemptionNum",t.target.value)}}})])]),a("div",{staticClass:"pa_input"},[a("label",[e._v("免疫时间")]),a("div",{staticClass:"pa_input_box"},[a("mu-date-input",{attrs:{container:"bottomSheet","no-display":"",solo:!0,"full-width":!0,"clock-type":"24hr","view-type":"list",type:"dateTime",landscape:""},model:{value:e.v_form.exemptionTime,callback:function(t){e.$set(e.v_form,"exemptionTime",t)},expression:"v_form.exemptionTime"}})],1)]),a("div",{staticClass:"pa_input"},[a("label",[e._v("疫苗种类")]),a("div",{staticClass:"pa_input_box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.v_form.vaccineType,expression:"v_form.vaccineType"}],attrs:{type:"text",placeholder:"请输入疫苗种类"},domProps:{value:e.v_form.vaccineType},on:{input:function(t){t.target.composing||e.$set(e.v_form,"vaccineType",t.target.value)}}})])]),a("div",{staticClass:"pa_input"},[a("label",[e._v("养犬登记编号")]),a("div",{staticClass:"pa_input_box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.v_form.petRegisNum,expression:"v_form.petRegisNum"}],attrs:{type:"text",placeholder:"请输入养犬登记编号"},domProps:{value:e.v_form.petRegisNum},on:{input:function(t){t.target.composing||e.$set(e.v_form,"petRegisNum",t.target.value)}}})])])]),a("div",{staticClass:"pa_upload"},[e._m(0),a("div",{staticClass:"pa_preview"},[a("p",[e._v("请上传含有上述信息的所有页面，以便物业核对")]),e._l(e.v_form.exemptionImg,function(e,t){return a("div",{key:t,staticClass:"pa_preview_list"},[a("img",{attrs:{src:e,alt:""}})])}),a("div",{staticClass:"pa_preview_add",on:{click:e.f_upload}})],2)]),a("div",{staticClass:"pa_submit",on:{click:e.f_submit}},[e._v("提交")])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b",[e._v("证件照片上传"),a("span",[e._v("（健康免疫证与养犬登记证）")])])}],o=(a("a481"),a("7f7f"),{name:"PetAdd",data:function(){return{v_form:{raiser:"",petBreed:"",petName:"",gender:"1",sterilization:"1",weight:"",address:"",exemptionNum:"",exemptionTime:"",vaccineType:"",petRegisNum:"",createUserId:"",villageCode:"",exemptionImg:[]},v_address:[]}},computed:{place:function(){return this.$store.state.village}},mounted:function(){this.v_form.raiser=this.$store.state.user.name,this.v_form.createUserId=this.$store.state.user.id,this.v_form.villageCode=this.$store.state.villageCode,this.f_getHouse()},methods:{f_upload:function(e){var t=this;this.v_form.exemptionImg.length>2?this.$toast("最多三张图片"):this.$wxsdk.chooseImage().then(function(e){var a=e.localIds;a.map(function(e){t.$wxsdk.getLocalImgData(e).then(function(e){var a=e.localData,i=new FormData;i.append("base64",a),t.$http.post("/admin/file/upload2",i).then(function(e){var a=e.data.data;t.v_from.exemptionImg.push(a)})})})})},f_getHouse:function(){var e=this,t={memberId:this.v_form.createUserId,villageCode:this.v_form.villageCode};this.$http.get("/admin/member/house/all",{params:t}).then(function(t){e.v_address=t.data.data.map(function(e){return"".concat(e.building).concat(e.unit).concat(e.room)})})},f_checkGender:function(e){this.v_form.gender=e},f_checkSterilization:function(e){this.v_form.sterilization=e},f_submit:function(){var e=this,t=Object.assign({},this.v_form);t.exemptionTime=new Date(t.exemptionTime).toLocaleString("chinese",{hour12:!1}).replace(/\//g,"-"),console.log(t),t.raiser&&t.petBreed&&t.exemptionNum&&t.exemptionTime&&t.vaccineType&&t.petRegisNum?this.$http.post("/admin/member/pet/addPet",t).then(function(t){t.data.success?(e.$toast("登记成功"),e.$router.go(-1)):e.$toast("网络错误"),console.log(t)}):this.$toast("请完善基本信息")},changeWeight:function(){""==this.v_form.weight?this.v_form.weight="":this.v_form.weight=this.v_form.weight+"kg"}}}),n=o,r=(a("e684"),a("2877")),p=Object(r["a"])(n,i,s,!1,null,"166aa3d3",null);t["default"]=p.exports},"7f7f":function(e,t,a){var i=a("86cc").f,s=Function.prototype,o=/^\s*function ([^ (]*)/,n="name";n in s||a("9e1e")&&i(s,n,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},e684:function(e,t,a){"use strict";var i=a("eafb"),s=a.n(i);s.a},eafb:function(e,t,a){}}]);
//# sourceMappingURL=chunk-487cc258.3903b827.js.map