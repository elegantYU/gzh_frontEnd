(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d16638a"],{"1e10":function(e,t,o){"use strict";var n=o("585f"),a=o.n(n);a.a},"585f":function(e,t,o){},"63fa":function(e,t,o){e.exports=o.p+"img/start_logo.58daa431.png"},"91dd":function(e,t,o){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,o,s){t=t||"&",o=o||"=";var r={};if("string"!==typeof e||0===e.length)return r;var i=/\+/g;e=e.split(t);var c=1e3;s&&"number"===typeof s.maxKeys&&(c=s.maxKeys);var p=e.length;c>0&&p>c&&(p=c);for(var d=0;d<p;++d){var l,u,v,h,f=e[d].replace(i,"%20"),m=f.indexOf(o);m>=0?(l=f.substr(0,m),u=f.substr(m+1)):(l=f,u=""),v=decodeURIComponent(l),h=decodeURIComponent(u),n(r,v)?a(r[v])?r[v].push(h):r[v]=[r[v],h]:r[v]=h}return r};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},b383:function(e,t,o){"use strict";t.decode=t.parse=o("91dd"),t.encode=t.stringify=o("e099")},e099:function(e,t,o){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,o,i){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"===typeof e?s(r(e),function(r){var i=encodeURIComponent(n(r))+o;return a(e[r])?s(e[r],function(e){return i+encodeURIComponent(n(e))}).join(t):i+encodeURIComponent(n(e[r]))}).join(t):i?encodeURIComponent(n(i))+o+encodeURIComponent(n(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var o=[],n=0;n<e.length;n++)o.push(t(e[n],n));return o}var r=Object.keys||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.push(o);return t}},ede4:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login_wrapper"},[n("img",{attrs:{src:o("63fa"),alt:""}}),n("div",{staticClass:"login_content"},[n("div",{staticClass:"login_input"},[n("span"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.v_name,expression:"v_name"}],attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.v_name},on:{input:function(t){t.target.composing||(e.v_name=t.target.value)}}})]),n("div",{staticClass:"login_input"},[n("span"),"checkbox"===(e.v_switch?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.v_password,expression:"v_password"}],attrs:{placeholder:"请输入密码",type:"checkbox"},domProps:{checked:Array.isArray(e.v_password)?e._i(e.v_password,null)>-1:e.v_password},on:{change:function(t){var o=e.v_password,n=t.target,a=!!n.checked;if(Array.isArray(o)){var s=null,r=e._i(o,s);n.checked?r<0&&(e.v_password=o.concat([s])):r>-1&&(e.v_password=o.slice(0,r).concat(o.slice(r+1)))}else e.v_password=a}}}):"radio"===(e.v_switch?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.v_password,expression:"v_password"}],attrs:{placeholder:"请输入密码",type:"radio"},domProps:{checked:e._q(e.v_password,null)},on:{change:function(t){e.v_password=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.v_password,expression:"v_password"}],attrs:{placeholder:"请输入密码",type:e.v_switch?"text":"password"},domProps:{value:e.v_password},on:{input:function(t){t.target.composing||(e.v_password=t.target.value)}}}),n("i",{class:{active:e.v_open},on:{click:e.f_switch}})]),n("a",{staticClass:"login_submit",on:{click:e.f_login}},[e._v("\n      登录\n    ")])])])},a=[],s=(o("28a5"),o("a481"),o("b383"),{name:"Login",data:function(){return{v_name:"",v_password:"",v_switch:!1,v_open:!1}},mounted:function(){this.f_getCookie()},methods:{f_login:function(){var e=this,t={name:this.v_name,password:this.v_password};this.$http.get("/admin/user/wy/login",{params:t}).then(function(t){t.data.success?(e.f_setCookie(e.v_name,e.v_password,1),e.$toast("登录成功"),e.$store.dispatch("setUser",t.data.data),e.$store.dispatch("setVillageCode",t.data.data.villageCode),e.f_getVillage(t.data.data.villageCode),e.$router.replace({name:"index"}),localStorage.clear()):e.$toast(t.data.msg)}),localStorage.clear()},f_forget:function(){console.log("忘记密码")},f_getVillage:function(e){var t=this,o={villageCode:e};this.$http.get("/obtain/config/getVillageName",{params:o}).then(function(e){t.$store.dispatch("setVillage",e.data.data)})},f_register:function(){this.$nextTick(function(e){var t=localStorage.getItem("wx-auth-count");1!=t&&(localStorage.setItem("wx-auth-count",1),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx3ec96b7fb94e38fa&redirect_uri=".concat(encodeURIComponent("http://zjphtech.com/admin/wx/person"),"&response_type=code&scope=snsapi_userinfo#wechat_redirect"))}),this.$router.push({name:"register"})},f_switch:function(){this.v_switch=!this.v_switch,this.v_open=!this.v_open},f_setCookie:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=new Date,a=encodeURI(e),s=encodeURI(t);n.setTime(n.getTime()+864e5*o),window.document.cookie="userName="+a+";path=/;expires="+n.toGMTString(),window.document.cookie="userPwd="+s+";path=/;expires="+n.toGMTString()},f_getCookie:function(){if(document.cookie.length>0)for(var e=document.cookie.split("; "),t=0;t<e.length;t++){var o=e[t].split("=");"userName"==o[0]?this.v_name=decodeURI(o[1]):"userPwd"==o[0]&&(this.v_password=decodeURI(o[1]))}this.v_name&&this.v_password&&(console.log("账户",this.v_name,this.v_password),this.f_login())}}}),r=s,i=(o("1e10"),o("2877")),c=Object(i["a"])(r,n,a,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-5d16638a.91d11d88.js.map